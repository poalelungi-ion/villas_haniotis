<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Breakfast Service - Villas Hanioti</title>
  <meta name="description" content="Order a delicious breakfast at Villas Hanioti, served daily from 9:00 to 11:00.">
  <meta name="keywords" content="breakfast, villas hanioti, order breakfast, vacation dining">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">

  <!-- Additional CSS for Breakfast Page -->
  <style>
    .view-toggle {
      text-align: center;
      margin-bottom: 20px;
    }
    .view-toggle a {
      padding: 10px 20px;
      margin: 0 5px;
      border-radius: 5px;
      background-color: var(--surface-color);
      color: var(--default-color);
      transition: all 0.3s ease;
      border: 2px solid var(--accent-color);
      font-weight: 500;
    }
    .view-toggle a.active {
      background-color: var(--accent-color);
      color: var(--contrast-color);
    }
    .view-toggle a:hover {
      background-color: color-mix(in srgb, var(--accent-color), transparent 20%);
      color: var(--contrast-color);
    }
    .reservation-img {
      background-size: cover;
      background-position: center;
      min-height: 400px;
    }
    .reservation-form-bg {
      background-color: var(--surface-color);
      padding: 30px;
      box-shadow: 0px 2px 20px rgba(0, 0, 0, 0.1);
    }
    .menu-section .tab-header {
      margin-bottom: 30px;
    }
    .menu-section ul {
      list-style: none;
      padding: 0;
    }
    .menu-section ul li {
      padding: 5px 0;
      display: flex;
      align-items: center;
    }
    .menu-section ul li i {
      font-size: 20px;
      margin-right: 8px;
      color: var(--accent-color);
    }
    .btn-pay {
      padding: 10px 20px;
      margin: 5px;
      border-radius: 4px;
      background-color: var(--accent-color);
      color: var(--contrast-color);
      border: none;
      transition: all 0.3s ease;
    }
    .btn-pay:hover {
      background-color: color-mix(in srgb, var(--accent-color), transparent 20%);
    }
    .total-price {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--heading-color);
    }
    .payment-disclaimer {
      font-size: 0.9rem;
      color: color-mix(in srgb, var(--default-color), transparent 20%);
    }
    .overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 9998;
    }
    .popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: var(--surface-color);
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0px 0px 30px rgba(0, 0, 0, 0.2);
      z-index: 9999;
      width: 90%;
      max-width: 500px;
    }
    .popup h3 {
      font-size: 1.5rem;
      margin-bottom: 15px;
    }
    .popup p {
      margin-bottom: 15px;
    }
    .popup .disclaimer {
      font-size: 0.9rem;
      color: color-mix(in srgb, var(--default-color), transparent 20%);
    }
    .order-summary {
      display: none;
      margin-top: 20px;
      padding: 20px;
      background-color: color-mix(in srgb, var(--background-color), transparent 95%);
      border-radius: 5px;
    }
    @media (max-width: 768px) {
      .reservation-img {
        min-height: 200px;
      }
      .reservation-form-bg {
        padding: 20px;
      }
    }
  </style>
</head>

<body class="service-details-page">

<header id="header" class="header d-flex align-items-center fixed-top">
  <div class="container-fluid container-xl position-relative d-flex align-items-center justify-content-between">
    <a href="index.html" class="logo d-flex align-items-center">
      <img src="assets/img/logo.png" alt="Villas Hanioti Logo" style="aspect-ratio: initial;">
      <h1 class="sitename" style="margin-top: 3%; font-weight: normal;">Villas <span>Hanioti</span></h1>
    </a>

    <nav id="navmenu" class="navmenu" style="font-weight: normal;">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="services.html">Accommodations</a></li>
        <li><a href="properties.html">Villas</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="agents.html">Location</a></li>
        <li class="dropdown"><a href="#" class="active"><span>Our Services</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
          <ul>
            <li><a href="service_breakfast.html" class="active">Breakfast</a></li>
            <li class="dropdown"><a href="#"><span>Additional Amenities</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
              <ul>
                <li><a href="#">WiFi</a></li>
                <li><a href="#">Parking</a></li>
                <li><a href="#">BBQ Facilities</a></li>
                <li><a href="#">Private Pool</a></li>
              </ul>
            </li>
            <li><a href="#">Airport Shuttle</a></li>
            <li><a href="#">Pet-Friendly Options</a></li>
          </ul>
        </li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
      <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
    </nav>
  </div>
</header>

<main class="main">

  <!-- Page Title -->
  <div class="page-title" data-aos="fade">
    <div class="heading">
      <div class="container">
        <div class="row d-flex justify-content-center text-center">
          <div class="col-lg-8">
            <h1>Breakfast Service</h1>
            <p class="mb-0">Enjoy a delightful breakfast at Villas Hanioti, served daily from 9:00 to 11:00. Pre-order by 23:00 the day before for a personalized dining experience.</p>
          </div>
        </div>
      </div>
    </div>
    <nav class="breadcrumbs">
      <div class="container">
        <ol>
          <li><a href="index.html">Home</a></li>
          <li><a href="services.html">Our Services</a></li>
          <li class="current">Breakfast Service</li>
        </ol>
      </div>
    </nav>
  </div><!-- End Page Title -->

  <!-- Breakfast Service Section -->
  <section id="breakfast-service" class="service-details section">
    <div class="container">
      <div class="view-toggle" data-aos="fade-up">
        <a href="#" class="view-btn active" data-view="menu">View Menu</a>
        <a href="#" class="view-btn" data-view="order">Order Now</a>
      </div>

      <!-- Menu View -->
      <div id="menu-view" class="view-content" data-aos="fade-up" data-aos-delay="100">
        <div class="row g-0">
        <div class="col-lg-4 reservation-img" style="background-image: url(assets/img/2025-03-25-18.56.50_40654fa9.jpg);"></div>
          <div class="col-lg-8 d-flex align-items-center reservation-form-bg">
        <div class="col-lg-8 menu-section">
          <div class="tab-header text-center">
            <p>Menu</p>
            <h3>Breakfast</h3>
            <p>Daily changing menu at the chef's discretion. Served from 9:00 to 11:00. Price: 18 € per person per day.</p>
          </div>
          <div class="row gy-5">
            <div class="col-lg-12">
              <h4>Breakfast Includes:</h4>
              <ul>
                <li><i class="bi bi-check-circle"></i>Fried egg, omelette, or scrambled eggs (chef's choice)</li>
                <li><i class="bi bi-check-circle"></i>Seasonal vegetables</li>
                <li><i class="bi bi-check-circle"></i>Meat and cheese slices</li>
                <li><i class="bi bi-check-circle"></i>Seasonal fruits</li>
                <li><i class="bi bi-check-circle"></i>Pancake, croissant, or bun (chef's choice) with marmalade and chocolate</li>
                <li><i class="bi bi-check-circle"></i>Drink of your choice (filter coffee, milk, fresh juice)</li>
              </ul>
            </div>
          </div>
        </div>
          </div>
        </div>
      </div>

      <!-- Order Form View -->
      <div id="order-view" class="view-content" style="display: none;" data-aos="fade-up" data-aos-delay="100">
        <div class="row g-0">
          <div class="col-lg-4 reservation-img" style="background-image: url(assets/img/photo_2025-04-07_20-38-32.jpg);"></div>
          <div class="col-lg-8 d-flex align-items-center reservation-form-bg">
            <div id="order-content" class="w-100">
              <form id="breakfast-form" class="php-email-form">
                <div class="row gy-4">
                  <div class="col-lg-4 col-md-6 form-group">
                    <label for="name">Your Name:</label>
                    <input type="text" name="name" class="form-control" id="name" placeholder="Your Name" required>
                  </div>
                  <div class="col-lg-4 col-md-6 form-group">
                    <label for="email">Your Email:</label>
                    <input type="email" class="form-control" name="email" id="email" placeholder="Your Email" required>
                  </div>
                  <div class="col-lg-4 col-md-6 form-group">
                    <label for="phone">Your Phone:</label>
                    <input type="tel" class="form-control" name="phone" id="phone" placeholder="Your Phone" pattern="[0-9+\-\s]{8,15}" required title="Phone number should be 8-15 digits, optionally with +, -, or spaces">
                  </div>
                  <div class="col-lg-4 col-md-6 form-group">
                    <label for="date">Date:</label>
                    <input type="date" name="date" class="form-control" id="date" placeholder="Date" required>
                  </div>
                  <div class="col-lg-4 col-md-6 form-group">
                    <label for="villa">Select Your Villa:</label>
                    <select class="form-control" name="villa" id="villa" required>
                      <option value="" disabled selected>Select Your Villa</option>
                      <option value="villa1">Villa 1</option>
                      <option value="villa2">Villa 2</option>
                      <option value="villa3">Villa 3</option>
                      <option value="villa3">Villa 4</option>
                      <option value="villa3">Villa 5</option>
                    </select>
                  </div>
                  <div class="col-lg-4 col-md-6 form-group">
                    <label for="coffee-qty">Filter Coffee:</label>
                    <input type="number" class="form-control" name="coffee-qty" id="coffee-qty" min="0" value="0">
                  </div>
                  <div class="col-lg-4 col-md-6 form-group">
                    <label for="milk-qty">Milk:</label>
                    <input type="number" class="form-control" name="milk-qty" id="milk-qty" min="0" value="0">
                  </div>
                  <div class="col-lg-4 col-md-6 form-group">
                    <label for="juice-qty">Fresh Juice:</label>
                    <input type="number" class="form-control" name="juice-qty" id="juice-qty" min="0" value="0">
                  </div>
                  <div class="col-lg-4 col-md-6 form-group">
                    <label for="people">Number of People:</label>
                    <input type="number" class="form-control" name="people" id="people" placeholder="# of people" min="1" required>
                  </div>
                </div>
                <div class="form-group mt-3">
                  <label for="message">Additional Notes (optional):</label>
                  <textarea class="form-control" name="message" id="message" rows="5" placeholder="Additional Notes (optional)"></textarea>
                </div>
                <div class="text-center mt-3">
                  <p class="total-price">Total: <span id="total-price">0 €</span> (18 € per person, prepayment required)</p>
                  <p class="payment-disclaimer"><strong>Important:</strong> For PayPal/Revolut payments, the name on this form must match the name of the person sending the payment. If different, please specify in the Additional Notes.</p>
                  <div class="loading" style="display: none;">Processing Payment...</div>
                  <div class="error-message" style="display: none;"></div>
                  <div id="payment-buttons">
                    <button type="button" id="revolut-pay" class="btn-pay revolut-btn">Pay with Revolut</button>
                    <button type="button" id="paypal-pay" class="btn-pay paypal-btn">Pay with PayPal</button>
                    <button type="button" id="cash-pay" class="btn-pay cash-btn">Pay with Cash</button>
                  </div>
                </div>
              </form>
              <div id="order-summary" class="order-summary"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section><!-- /Breakfast Service Section -->

  <!-- Popup and Overlay -->
  <div class="overlay" id="overlay"></div>
  <div class="popup" id="payment-popup">
    <h3>Payment Confirmation</h3>
    <p>Please complete the payment in the new tab and return here to confirm.</p>
    <p id="payment-status">Waiting for payment...</p>
    <p class="disclaimer">Disclaimer: Ensure you pay the exact amount shown above (Total: <span id="expected-amount">0 €</span>). Incorrect payments may delay your order.</p>
    <label>
      <input type="checkbox" id="payment-confirmation"> I've paid the right amount
    </label>
    <button class="btn-pay" id="finish-order">Finish the Order</button>
  </div>

</main>

<footer id="footer" class="footer light-background">
  <div class="container">
    <div class="row gy-3">
      <div class="col-lg-3 col-md-6 d-flex">
        <i class="bi bi-geo-alt icon"></i>
        <div class="address">
          <h4>Address</h4>
          <p>A108 Adam Street</p>
          <p>New York, NY 535022</p>
          <p></p>
        </div>
      </div>
      <div class="col-lg-3 col-md-6 d-flex">
        <i class="bi bi-telephone icon"></i>
        <div>
          <h4>Contact</h4>
          <p>
            <strong>Phone:</strong> <span>+1 5589 55488 55</span><br>
            <strong>Email:</strong> <span><a href="mailto:info@example.com">info@example.com</a></span><br>
          </p>
        </div>
      </div>
      <div class="col-lg-3 col-md-6 d-flex">
        <i class="bi bi-clock icon"></i>
        <div>
          <h4>Opening Hours</h4>
          <p>
            <strong>Mon-Sat:</strong> <span>11AM - 23PM</span><br>
            <strong>Sunday</strong>: <span>Closed</span>
          </p>
        </div>
      </div>
      <div class="col-lg-3 col-md-6">
        <h4>Follow Us</h4>
        <div class="social-links d-flex">
          <a href="#" class="twitter"><i class="bi bi-twitter-x"></i></a>
          <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
          <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
          <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a>
        </div>
      </div>
    </div>
  </div>
  <div class="container copyright text-center mt-4">
    <p>© <span>Copyright</span> <strong class="px-1 sitename">Villas Hanioti</strong> <span>All Rights Reserved</span></p>
  </div>
</footer>

<!-- Scroll Top -->
<a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

<!-- Preloader -->
<div id="preloader"></div>

<!-- Vendor JS Files -->
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/php-email-form/validate.js"></script>
<script src="assets/vendor/aos/aos.js"></script>
<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
<script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
<script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

<!-- Main JS File -->
<script src="assets/js/main.js"></script>

<!-- Breakfast Service JavaScript -->
<script>
  AOS.init();
  emailjs.init('Ta70zttPGikHaQqrT'); // Replace with your EmailJS public key

  // View Toggle Functionality
  const viewButtons = document.querySelectorAll('.view-btn');
  const menuView = document.getElementById('menu-view');
  const orderView = document.getElementById('order-view');

  viewButtons.forEach(button => {
    button.addEventListener('click', function(e) {
      e.preventDefault();
      const view = this.getAttribute('data-view');

      viewButtons.forEach(btn => btn.classList.remove('active'));
      this.classList.add('active');

      if (view === 'menu') {
        menuView.style.display = 'block';
        orderView.style.display = 'none';
      } else {
        menuView.style.display = 'none';
        orderView.style.display = 'block';
      }
    });
  });

  // Form Handling
  const peopleInput = document.getElementById('people');
  const totalPriceSpan = document.getElementById('total-price');
  const form = document.getElementById('breakfast-form');
  const coffeeQty = document.getElementById('coffee-qty');
  const milkQty = document.getElementById('milk-qty');
  const juiceQty = document.getElementById('juice-qty');
  const loading = document.querySelector('.loading');
  const errorMessage = document.querySelector('.error-message');
  const overlay = document.getElementById('overlay');
  const popup = document.getElementById('payment-popup');
  const paymentStatus = document.getElementById('payment-status');
  const expectedAmountSpan = document.getElementById('expected-amount');
  const paymentConfirmationCheckbox = document.getElementById('payment-confirmation');
  const finishOrderButton = document.getElementById('finish-order');
  const orderContent = document.getElementById('order-content');
  const orderSummary = document.getElementById('order-summary');
  const paymentButtons = document.getElementById('payment-buttons');

  peopleInput.addEventListener('input', function() {
    const people = this.value;
    const totalPrice = people * 18;
    totalPriceSpan.textContent = totalPrice + ' €';
    validateDrinks();
  });

  coffeeQty.addEventListener('input', validateDrinks);
  milkQty.addEventListener('input', validateDrinks);
  juiceQty.addEventListener('input', validateDrinks);

  function validateDrinks() {
    const people = parseInt(peopleInput.value) || 0;
    const totalDrinks = (parseInt(coffeeQty.value) || 0) + (parseInt(milkQty.value) || 0) + (parseInt(juiceQty.value) || 0);

    if (people > 0 && totalDrinks > people) {
      errorMessage.textContent = `Total number of drinks (${totalDrinks}) cannot exceed the number of people (${people}). Each person can have only one drink.`;
      errorMessage.style.display = 'block';
      paymentButtons.style.display = 'none';
    } else {
      errorMessage.style.display = 'none';
      paymentButtons.style.display = 'block';
    }
  }

  function getSelectedDrinks() {
    const drinks = [];
    if (coffeeQty.value > 0) drinks.push(`${coffeeQty.value} Filter Coffee`);
    if (milkQty.value > 0) drinks.push(`${milkQty.value} Milk`);
    if (juiceQty.value > 0) drinks.push(`${juiceQty.value} Fresh Juice`);
    return drinks.length > 0 ? drinks.join(', ') : 'No drinks selected';
  }

  function sendOrderEmail(formData, total, paymentMethod) {
    const selectedDrinks = getSelectedDrinks();
    const emailParams = {
      to_email: 'villashanioti5@gmail.com',
      name: formData.get('name'),
      email: formData.get('email'),
      phone: formData.get('phone'),
      date: formData.get('date'),
      villa: formData.get('villa'),
      drinks: selectedDrinks,
      people: formData.get('people'),
      message: formData.get('message') || 'No additional notes',
      total: total,
      payment_method: paymentMethod
    };

    emailjs.send('service_4ckbq8t', 'template_ay7y3yp', emailParams)
            .then(() => console.log('Email sent successfully'))
            .catch(error => {
              errorMessage.textContent = 'Failed to send order confirmation email.';
              errorMessage.style.display = 'block';
              console.error('EmailJS error:', error);
            });
  }

  function openPaymentPopup(expectedAmount) {
    overlay.style.display = 'block';
    popup.style.display = 'block';
    expectedAmountSpan.textContent = expectedAmount + ' €';
    paymentStatus.textContent = 'Waiting for payment...';
    paymentConfirmationCheckbox.checked = false;
    finishOrderButton.disabled = true;
  }

  function showOrderSummary(formData, total, paymentMethod) {
    const selectedDrinks = getSelectedDrinks();
    orderSummary.innerHTML = `
      <h4>Order Summary</h4>
      <p><strong>Name:</strong> ${formData.get('name')}</p>
      <p><strong>Email:</strong> ${formData.get('email')}</p>
      <p><strong>Phone:</strong> ${formData.get('phone')}</p>
      <p><strong>Date:</strong> ${formData.get('date')}</p>
      <p><strong>Villa:</strong> ${formData.get('villa')}</p>
      <p><strong>Drinks:</strong> ${selectedDrinks}</p>
      <p><strong>Number of People:</strong> ${formData.get('people')}</p>
      <p><strong>Total Cost:</strong> ${total} €</p>
      <p><strong>Payment Method:</strong> ${paymentMethod}</p>
      <button class="btn-pay" id="make-another-order">Make Another Order</button>
    `;
    form.style.display = 'none';
    paymentButtons.style.display = 'none';
    orderSummary.style.display = 'block';

    document.getElementById('make-another-order').addEventListener('click', function() {
      form.style.display = 'block';
      paymentButtons.style.display = 'block';
      orderSummary.style.display = 'none';
      form.reset();
      totalPriceSpan.textContent = '0 €';
    });
  }

  paymentConfirmationCheckbox.addEventListener('change', function() {
    finishOrderButton.disabled = !this.checked;
  });

  finishOrderButton.addEventListener('click', function() {
    if (paymentConfirmationCheckbox.checked) {
      const people = peopleInput.value;
      const total = people * 18;
      const formData = new FormData(form);
      const paymentMethod = this.dataset.paymentMethod || 'Unknown';

      setTimeout(() => {
        paymentStatus.textContent = 'Payment verified!';
        sendOrderEmail(formData, total, paymentMethod);
        overlay.style.display = 'none';
        popup.style.display = 'none';
        showOrderSummary(formData, total, paymentMethod);
      }, 2000);
    }
  });

  document.getElementById('revolut-pay').addEventListener('click', function() {
    const people = peopleInput.value;
    const totalPrice = people * 18;
    if (!people || totalPrice <= 0) {
      errorMessage.textContent = 'Please enter a valid number of people.';
      errorMessage.style.display = 'block';
      return;
    }

    const totalDrinks = (parseInt(coffeeQty.value) || 0) + (parseInt(milkQty.value) || 0) + (parseInt(juiceQty.value) || 0);
    if (totalDrinks > people) {
      errorMessage.textContent = `Total number of drinks (${totalDrinks}) cannot exceed the number of people (${people}).`;
      errorMessage.style.display = 'block';
      return;
    }

    const currentTime = new Date();
    const cutoffTime = new Date();
    cutoffTime.setHours(23, 0, 0, 0);
    if (currentTime > cutoffTime) {
      errorMessage.textContent = 'Orders must be placed before 23:00 the day before.';
      errorMessage.style.display = 'block';
      return;
    }

    loading.style.display = 'block';
    setTimeout(() => {
      loading.style.display = 'none';
      window.open(`https://revolut.me/marynapostnyk?amount=${totalPrice}&currency=EUR`, '_blank');
      openPaymentPopup(totalPrice);
      finishOrderButton.dataset.paymentMethod = 'Revolut';
    }, 1000);
  });

  document.getElementById('paypal-pay').addEventListener('click', function() {
    const people = peopleInput.value;
    const totalPrice = people * 18;
    if (!people || totalPrice <= 0) {
      errorMessage.textContent = 'Please enter a valid number of people.';
      errorMessage.style.display = 'block';
      return;
    }

    const totalDrinks = (parseInt(coffeeQty.value) || 0) + (parseInt(milkQty.value) || 0) + (parseInt(juiceQty.value) || 0);
    if (totalDrinks > people) {
      errorMessage.textContent = `Total number of drinks (${totalDrinks}) cannot exceed the number of people (${people}).`;
      errorMessage.style.display = 'block';
      return;
    }

    const currentTime = new Date();
    const cutoffTime = new Date();
    cutoffTime.setHours(23, 0, 0, 0);
    if (currentTime > cutoffTime) {
      errorMessage.textContent = 'Orders must be placed before 23:00 the day before.';
      errorMessage.style.display = 'block';
      return;
    }

    loading.style.display = 'block';
    setTimeout(() => {
      loading.style.display = 'none';
      window.open('https://www.paypal.com/qrcodes/p2pqrc/ND3XW9EQMK52J', '_blank');
      openPaymentPopup(totalPrice);
      finishOrderButton.dataset.paymentMethod = 'PayPal';
    }, 1000);
  });

  document.getElementById('cash-pay').addEventListener('click', function() {
    const people = peopleInput.value;
    const totalPrice = people * 18;
    if (!people || totalPrice <= 0) {
      errorMessage.textContent = 'Please enter a valid number of people.';
      errorMessage.style.display = 'block';
      return;
    }

    const totalDrinks = (parseInt(coffeeQty.value) || 0) + (parseInt(milkQty.value) || 0) + (parseInt(juiceQty.value) || 0);
    if (totalDrinks > people) {
      errorMessage.textContent = `Total number of drinks (${totalDrinks}) cannot exceed the number of people (${people}).`;
      errorMessage.style.display = 'block';
      return;
    }

    const currentTime = new Date();
    const cutoffTime = new Date();
    cutoffTime.setHours(23, 0, 0, 0);
    if (currentTime > cutoffTime) {
      errorMessage.textContent = 'Orders must be placed before 23:00 the day before.';
      errorMessage.style.display = 'block';
      return;
    }

    loading.style.display = 'block';
    setTimeout(() => {
      loading.style.display = 'none';
      const formData = new FormData(form);
      sendOrderEmail(formData, totalPrice, 'Cash');
      showOrderSummary(formData, totalPrice, 'Cash');
    }, 1000);
  });
</script>

</body>
</html>